(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(74)},30:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),o=n.n(i),l=(n(30),n(24)),c=n(23),s=n(3),u=n(4),m=n(9),p=n(8),f=n(10),d=n(2),h="AIzaSyB_al7nqZ8PmQFuFB9WqcQPNKQQI_m6fs4",g=n(13),v=n.n(g),k=n(21),w=n(22),y=n.n(w),b={client_id:"XATAV0HZ0MUVRNP2DMR4202KKJVBPO4PPHI21YNDSNKBSXUC",client_secret:"HTTEZQMQKMOGQXK1PWLOC3UTZI3HTWLULBMGZG5RY5T4UH1X"},E={v:"20182507"},S={near:"Oklahoma City",query:"coffee"},C=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"getResponse",value:function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.getUrl(t)).then(function(e){return e.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getUrl",value:function(e){var t=new URLSearchParams(S),n=new URLSearchParams(E),a=new URLSearchParams(b);return"".concat("https://api.foursquare.com/v2/venues/").concat(e).concat(n,"&").concat(a).concat(e.includes("search")?"&"+t:"")}}]),e}(),O=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"getPlaces",value:function(){return C.getResponse("search?")}},{key:"getPlacesData",value:function(e){return C.getResponse("".concat(e,"?"))}}]),e}(),A=function(){return r.a.createElement("main",{className:"interim"},r.a.createElement("h1",null,"Loading..."),r.a.createElement("h3",null,"Fetching data..."))},T=function(){return r.a.createElement("main",{className:"interim"},r.a.createElement("h1",null,"Uh-oh!"),r.a.createElement("h3",null,"There was a problem fetching the venue data."),r.a.createElement("h3",null,"Please check your internet connection, or try again later."))},j=(n(68),[{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#e0efef"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{hue:"#1900ff"},{color:"#c0e8e8"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:700}]},{featureType:"water",elementType:"all",stylers:[{color:"#7dcdcd"}]}]),P=Object(d.GoogleApiWrapper)({apiKey:h})(function(e){var t=e.filterTerm,n=e.storeMarkers,a=e.google,i=e.markerDeactivate,o=e.mapCenter,l=e.markerInfoWindowShowing,c=e.onClickPlace,s=e.places,u=e.placeSelected,m=e.placeSelectedDetails,p=e.mapZoom,f=s.filter(function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>=0}).map(function(e){return r.a.createElement(d.Marker,{animation:a.maps.Animation.DROP,id:e.id,key:e.id,name:e.name,onClick:c.bind(e),position:e.position,ref:n})});return r.a.createElement(d.Map,{disableDefaultUI:!0,google:a,initialCenter:o,onClick:i.bind(void 0),style:{height:"100%",width:"100%"},styles:j,zoom:p},f,r.a.createElement(d.InfoWindow,{marker:u,onClose:i,visible:l},r.a.createElement("section",null,m?function(e){var t=e.location,n=e.name,a=t.address?t.address:"(No address listed)",i=t.city?t.city:"(No city listed)",o=t.state?t.state:"(No state listed)",l=t.postalCode?t.postalCode:"";return r.a.createElement("div",null,r.a.createElement("h3",null,n),r.a.createElement("p",null,a),r.a.createElement("p",null,i,", ",o," ",l))}(m):void 0)))}),L=(n(70),Object(d.GoogleApiWrapper)({apiKey:h})(function(e){var t=e.filterList,n=e.filterTerm,a=e.markers,i=e.onClickPlace,o=e.places.filter(function(e){return e.name.toLowerCase().indexOf(n.toLowerCase())>=0}).map(function(e){var t=a.find(function(t){return e.id===t.props.id});return r.a.createElement("li",{className:"place",key:e.id,onClick:i.bind(void 0,t.props,t.marker)},e.name)});return r.a.createElement("aside",null,r.a.createElement("input",{className:"input-filter",onChange:function(e){return t(e.target.value)},placeholder:"Filter",tabIndex:0,type:"text",value:n}),r.a.createElement("ul",{tabIndex:0},o))})),N=(n(72),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("h4",null,"Powered by ",r.a.createElement("a",{href:"https://developer.foursquare.com"},"Foursquare")))}),W=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={filterTerm:"",filteredList:[],markerInfoWindowShowing:void 0,placeSelected:void 0,placeSelectedDetails:void 0},n.handleMarkerAnimation=function(){n.state.placeSelected?n.props.markers.find(function(e){return!0===e.marker.animating})?(n.props.markers.find(function(e){return!0===e.marker.animating}).marker.setAnimation(window.google.maps.Animation.null),n.state.placeSelected.setAnimation(window.google.maps.Animation.BOUNCE)):n.state.placeSelected.setAnimation(window.google.maps.Animation.BOUNCE):n.props.markers.find(function(e){return!0===e.marker.animating})&&n.props.markers.find(function(e){return!0===e.marker.animating}).marker.setAnimation(window.google.maps.Animation.null)},n.markerActivate=function(e,t){n.setState({markerInfoWindowShowing:!0,placeSelected:t,placeSelectedDetails:e},function(){return n.handleMarkerAnimation()})},n.markerDeactivate=function(){n.setState({markerInfoWindowShowing:void 0,placeSelected:void 0,placeSelectedDetails:void 0},function(){return n.handleMarkerAnimation()})},n.onClickPlace=function(e,t){var a=n.props.places.find(function(t){return e.id===t.id});n.state.placeSelected===t?n.markerDeactivate():n.markerActivate(a,t)},n.filterList=function(e){n.setState({filterTerm:e,filteredList:n.props.places.filter(function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>=0})},function(){n.state.placeSelected&&(n.state.filteredList.map(function(e){return e.id}).includes(n.state.placeSelected.id)||n.markerDeactivate())})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mapCenter,n=e.mapZoom,a=e.markers,i=e.places,o=e.storeMarkers;return i?r.a.createElement("div",{role:"application",className:"app"},r.a.createElement("main",{className:"container",role:"application"},a.length>0?r.a.createElement("div",{className:"sidebar"},r.a.createElement(L,{filterList:this.filterList.bind(this),filterTerm:this.state.filterTerm,markers:a,onClickPlace:this.onClickPlace,places:i,placeSelected:this.state.placeSelected})):r.a.createElement("div",{className:"sidebar"},r.a.createElement(A,null)),r.a.createElement("div",{className:"map"},r.a.createElement(P,{filteredList:this.state.filteredList,filterTerm:this.state.filterTerm,mapCenter:t,mapZoom:n,markerActivate:this.markerActivate,markerDeactivate:this.markerDeactivate,markerInfoWindowShowing:this.state.markerInfoWindowShowing,markers:a,onClickPlace:this.onClickPlace,placeSelected:this.state.placeSelected,placeSelectedDetails:this.state.placeSelectedDetails,places:i,storeMarkers:o}))),r.a.createElement(N,null)):r.a.createElement(A,null)}}]),t}(a.Component),D=Object(d.GoogleApiWrapper)({apiKey:h})(W),M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={places:[],markers:[],mapCenter:{lat:35.465076,lng:-97.507373},mapZoom:12,error:!1},n.storeMarkers=function(e){0===n.state.markers.length&&n.setState(function(t){return{markers:Object(c.a)(t.markers).concat([e])}})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.getPlaces().then(function(t){e.setState({places:t.response.venues.map(function(e){return Object(l.a)({},e,{position:{lat:e.location.lat,lng:e.location.lng}})})})}).catch(function(t){e.setState({error:!0}),console.log("Error setting initial state in componentDidMount() [app.js]"),console.log(t)})}},{key:"render",value:function(){return 0===this.state.places.length&&!1===this.state.error?r.a.createElement(A,null):!0===this.state.error?r.a.createElement(T,null):r.a.createElement(D,Object.assign({storeMarkers:this.storeMarkers},this.state))}}]),t}(a.Component),U=Object(d.GoogleApiWrapper)({apiKey:h})(M),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(U,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/fend-project-7",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/fend-project-7","/service-worker.js");I?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):R(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):R(t,e)})}}()}},[[25,2,1]]]);
//# sourceMappingURL=main.3242aa52.chunk.js.map